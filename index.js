import{i as a}from"./assets/vendor-DVYrn7a6.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function c(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=c(t);fetch(t.href,o)}})();const L="53361153-f145cef477c4ac6c9fc0f0a0c",q="https://pixabay.com/api/";function f(e,r){const c=`${q}?key=${L}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&page=${r}&per_page=40`;return fetch(c).then(i=>{if(!i.ok)throw new Error("Network error");return i.json()})}function S(){document.querySelector(".gallery").innerHTML=""}function w(e){document.querySelector(".gallery").innerHTML=m(e)}function E(e){document.querySelector(".gallery").insertAdjacentHTML("beforeend",m(e))}function m(e){return e.map(r=>`
        <li class="item">
          <img src="${r.webformatURL}" alt="${r.tags}" width="300" />
        </li>`).join("")}function h(){document.querySelector(".loader").classList.remove("hidden")}function y(){document.querySelector(".loader").classList.add("hidden")}function p(){document.querySelector(".load-more").classList.remove("hidden")}function d(){document.querySelector(".load-more").classList.add("hidden")}const b=document.querySelector(".form"),v=document.querySelector(".load-more");let s="",n=1;const g=40;let u=0;b.addEventListener("submit",M);v.addEventListener("click",R);async function M(e){if(e.preventDefault(),s=e.currentTarget.elements.query.value.trim(),!s){a.warning({title:"Warning",message:"Please enter a search term!",position:"topRight"});return}n=1,S(),d(),h();try{const r=await f(s,n);if(u=r.totalHits,r.hits.length===0){a.info({title:"No results",message:"No images found. Try another search.",position:"topRight"});return}w(r.hits),n*g<u&&p()}catch{a.error({title:"Error",message:"Failed to load images. Try again later.",position:"topRight"})}finally{y()}}async function R(){n+=1,d(),h();try{const e=await f(s,n);E(e.hits),P(),n*g>=u?(a.info({title:"End",message:"We're sorry, but you've reached the end of search results.",position:"topRight"}),d()):p()}catch{a.error({title:"Error",message:"Failed to load more images.",position:"topRight"})}finally{y()}}function P(){const e=document.querySelector(".gallery").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
