import{S as b}from"./assets/vendor-CgTBfC_f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const w="53361153-f145cef477c4ac6c9fc0f0a0c",S="https://pixabay.com/api/";async function d(r,e){const n=new URLSearchParams({key:w,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:e}),c=`${S}?${n}`,t=await fetch(c);if(!t.ok)throw new Error("Pixabay fetch error");return await t.json()}const u=document.querySelector(".gallery"),f=document.querySelector("#loader"),h=document.querySelector("#load-more-btn"),q=new b(".gallery a",{captionsData:"alt",captionDelay:250});function m(r){const e=r.map(n=>`
        <li class="gallery-item">
          <a href="${n.largeImageURL}">
            <img src="${n.webformatURL}" alt="${n.tags}">
          </a>
        </li>`).join("");u.insertAdjacentHTML("beforeend",e),q.refresh()}function v(){u.innerHTML=""}function y(){f.classList.remove("hidden")}function l(){f.classList.add("hidden")}function M(){h.classList.remove("hidden")}function p(){h.classList.add("hidden")}const P=document.querySelector("#search-form"),B=document.querySelector("#search-input"),E=document.querySelector("#load-more-btn");let i="",a=1,g=0;P.addEventListener("submit",O);E.addEventListener("click",$);async function O(r){if(r.preventDefault(),i=B.value.trim(),!!i){a=1,v(),p(),y();try{const e=await d(i,a);if(g=e.totalHits,e.hits.length===0){l(),alert("No results found");return}m(e.hits),L(e)}catch(e){console.log(e),alert("Error fetching images")}finally{l()}}}async function $(){a++,y();try{const r=await d(i,a);m(r.hits),L(r),x()}catch{alert("Error loading more images")}finally{l()}}function L(r){const e=Math.ceil(g/15);a>=e?(p(),alert("We're sorry, but you've reached the end of search results.")):M()}function x(){const e=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
