(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const w="53361153-f145cef477c4ac6c9fc0f0a0c",E="https://pixabay.com/api/";function f(r,t){const n=`${E}?key=${w}&q=${encodeURIComponent(r)}&image_type=photo&orientation=horizontal&safesearch=true&page=${t}&per_page=40`;return fetch(n).then(s=>{if(!s.ok)throw new Error("Network error");return s.json()})}function M(r){const t=document.querySelector(".gallery");t.innerHTML=r.map(n=>`
    <li class="item">
      <img src="${n.webformatURL}" alt="${n.tags}" width="200" height="150"/>
    </li>`).join("")}function S(r){document.querySelector(".gallery").insertAdjacentHTML("beforeend",r.map(n=>`
      <li class="item">
        <img src="${n.webformatURL}" alt="${n.tags}" width="200" height="150"/>
      </li>`).join(""))}const b=document.querySelector(".form"),v=document.querySelector(".gallery"),h=document.querySelector(".loader"),u=document.querySelector(".load-more"),m=document.querySelector(".end-message");let c="",i=1;const g=40;let d=0;b.addEventListener("submit",$);u.addEventListener("click",O);function $(r){if(r.preventDefault(),c=r.currentTarget.elements.query.value.trim(),!c){alert("Enter search text");return}i=1,v.innerHTML="",l(),P(),y(),f(c,i).then(t=>{if(d=t.totalHits,M(t.hits),t.hits.length===0){l();return}i*g>=d?q():L()}).catch(()=>alert("Error loading images")).finally(p)}function O(){i+=1,l(),y(),f(c,i).then(r=>{S(r.hits),i*g>=d?(l(),q()):L()}).catch(()=>alert("Error loading")).finally(p)}function y(){h.classList.remove("hidden")}function p(){h.classList.add("hidden")}function L(){u.classList.remove("hidden")}function l(){u.classList.add("hidden")}function q(){m.classList.remove("hidden")}function P(){m.classList.add("hidden")}
//# sourceMappingURL=index.js.map
